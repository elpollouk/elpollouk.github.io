// ChickenVis
// Version: 0.1.0-dev
// Built: 2016-08-17T20:26:18.525Z
// Commit: af61cfe89693092dd3dd4524d540876c5060a40a

"use strict";Chicken.register("ChickenVis.createElement",function(t){return document.createElement(t)}),Chicken.register("ChickenVis.requestAnimationFrame",function(t){return window.requestAnimationFrame(t)}),Chicken.register("ChickenVis.resolveElement",function(t){switch(typeof t){case"string":return document.getElementById(t);case"function":return t();default:return t}}),Chicken.register("ChickenVis.Loader",["ChickenVis.createElement"],function(t){var e={},n=Chicken.Class(function(){this.numReady=0,this.numTotal=0,this.failed=[],this.a={}},{queue:function(t,e){var i=this;i.numTotal+=t.length;for(var r=0;r<t.length;r++){var s=n.load(t[r].source,t[r].type,function(t){switch(t.state){case n.STATE_READY:i.numReady++;break;case n.STATE_ERROR:i.failed.push(t)}e(t,i)});s.id=t[r].id,i.a[s.id]=s}},getInfo:function(t){return this.a[t]},getData:function(t){var e=this.a[t];if(e)return e.state!==n.STATE_READY?null:e.data}},{},{TYPE_IMAGE:"img",STATE_QUEUED:0,STATE_READY:1,STATE_ERROR:-1,load:function(t,i,r){var s={type:i,source:t,state:n.STATE_QUEUED,onStateChange:r};return e[i](s),s}});return e[n.TYPE_IMAGE]=function(e){e.data=t("img"),e.data.src=e.source,e.data.onload=function(){e.state=n.STATE_READY,e.onStateChange(e)},e.data.onerror=function(){e.state=n.STATE_ERROR,e.onStateChange(e)}},n}),Chicken.register("ChickenVis.UpdateLoop",["ChickenVis.requestAnimationFrame","Date.now"],function(t,e){var n=10,i=Chicken.Class(function(i){if(!i)throw new Error("No update function specified");var r=this,s=function(){var h=e(),o=(h-r.b)/1e3;r.b=h;var a=r.c;a.push(o),a.length===n&&a.shift(),r.d||(i(o),t(s))};this.d=!0,this.e=0,this.f=s,this.g=i,this.c=[]},{step:function(t){this.g(t)}},{paused:{get:function(){return this.d},set:function(t){return t==this.d?t:(this.d=t,t||(this.b=e(),this.f()),t)},enumerable:!0},fps:{get:function(){for(var t=0,e=this.c,n=0;n<e.length;n++)t+=e[n];return 0===e?0:e.length/t},enumerable:!0}});return i}),Chicken.register("ChickenVis.Draw",["ChickenVis.resolveElement"],function(t){var e="black",n="10px Courier",i=2*Math.PI,r=function(){return!1},s=Chicken.Class(function(e,n,i){e=t(e),this.h=n||e.clientWidth,this.i=i||e.clientHeight,this.j=0,this.k=0,this.l=document.createElement("canvas"),this.l.setAttribute("width",this.h),this.l.setAttribute("height",this.i),this.l.onselectstart=r,e.appendChild(this.l),this.m=this.l.getContext("2d"),this.m.textBaseline="top"},{setOrigin:function(t,e){this.j=-t,this.k=-e,this.m.translate(t,e)},line:function(t,n,i,r,s){s=s||e,this.m.beginPath(),this.m.moveTo(t,n),this.m.lineTo(i,r),this.m.strokeStyle=s,this.m.stroke()},path:function(t,n){n=n||e;var i=this.m;i.beginPath(),i.moveTo(t[0].x,t[0].y);for(var r=t.length,s=1;r>s;s++)i.lineTo(t[s].x,t[s].y);i.strokeStyle=n,i.stroke()},circle:function(t,n,r,s,h){s=s||e,this.m.beginPath(),this.m.arc(t,n,r,0,i),h?(this.m.strokeStyle=s,this.m.stroke()):(this.m.fillStyle=s,this.m.fill())},rect:function(t,n,i,r,s,h){s=s||e,h?(this.m.beginPath(),this.m.rect(t,n,i,r),this.m.strokeStyle=s,this.m.stroke()):(this.m.fillStyle=s,this.m.fillRect(t,n,i,r))},image:function(t,e,n){this.m.drawImage(t,e,n)},imageEx:function(t,e,n,i,r,s,h,o,a){this.m.drawImage(t,e,n,i,r,s,h,o,a)},text:function(t,i,r,s,h){s=s||e,h=h||n,this.m.font=h,this.m.fillStyle=s,this.m.fillText(t,i,r)},clear:function(){this.m.clearRect(this.j,this.k,this.h,this.i)}},{canvas:{get:function(){return this.l},enumerable:!0},context:{get:function(){return this.m},enumerable:!0},width:{get:function(){return this.h},enumerable:!0},height:{get:function(){return this.i},enumerable:!0}});return s}),Chicken.register("ChickenVis.FixedDeltaUpdater",[],function(){var t=Chicken.Class(function(t,e){this.g=t,this.n=e,this.reset()},{reset:function(){this.o=0,this.p=0},update:function(t){for(this.p+=t,t=this.n;this.p>=t;)this.g(t,this.o),this.o+=t,this.p-=t}},{deltaTime:{get:function(){return this.n},enumerable:!0},currentTime:{get:function(){return this.o},enumerable:!0}});return t}),Chicken.register("ChickenVis.Math",[],function(){for(var t=.25*Math.PI,e=.5*Math.PI,n=2*Math.PI,i={QUARTER_PI:t,HALF_PI:e,TWO_PI:n,degreesToRads:function(t){return t*n/360},radsToDegrees:function(t){return 360*t/n},randomInt:function(t){return Math.floor(Math.random()*t)},randomRange:function(t,e){return Math.random()*(e-t)+t},randomRangeInt:function(t,e){return Math.floor(i.randomRange(t,e))},vector2:function(t,e){return{x:t,y:e}},clone2:function(t){return{x:t.x,y:t.y}},length2:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},lengthSqrd2:function(t){return t.x*t.x+t.y*t.y},dot2:function(t,e){return t.x*e.x+t.y*e.y},add2:function(t,e){t.x+=e.x,t.y+=e.y},addAndClone2:function(t,e){return{x:t.x+e.x,y:t.y+e.y}},sub2:function(t,e){t.x-=e.x,t.y-=e.y},subAndClone2:function(t,e){return{x:t.x-e.x,y:t.y-e.y}},normalise2:function(t){if(0!==t.x||0!==t.y){var e=i.length2(t);t.x/=e,t.y/=e}},normaliseAndClone2:function(t){if(0===t.x&&0===t.y)return{x:0,y:0};var e=i.length2(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},scale2:function(t,e){t.x*=e,t.y*=e},scaleAndClone2:function(t,e){return{x:t.x*e,y:t.y*e}},scaleAdd2:function(t,e,n){t.x+=e.x*n,t.y+=e.y*n},slerp2:function(t,e,n){t.x+=(e.x-t.x)*n,t.y+=(e.y-t.y)*n},slerpAndClone2:function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}},rotate2:function(t,e){var n=t.x,i=t.y,r=Math.cos(e),s=Math.sin(e);t.x=r*n+s*i,t.y=r*i-s*n}},r=Object.getOwnPropertyNames(Math),s=0;s<r.length;s++)i[r[s]]=Math[r[s]];return i});