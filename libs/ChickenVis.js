// ChickenVis
// Version: 0.1.0
// Built: 2016-08-16T20:56:25.443Z
// Commit: 9a3ffc01fa1d0a06c5b1771e12b30823279d7e70

Chicken.register("ChickenVis.createElement",function(t){return document.createElement(t)}),Chicken.register("ChickenVis.requestAnimationFrame",function(t){return window.requestAnimationFrame(t)}),Chicken.register("ChickenVis.resolveElement",function(t){switch(typeof t){case"string":return document.getElementById(t);case"function":return t();default:return t}}),Chicken.register("ChickenVis.Loader",["ChickenVis.createElement"],function(t){var e={},i=Chicken.Class(function(){this.numReady=0,this.numTotal=0,this.failed=[],this._store={}},{queue:function(t,e){var n=this;n.numTotal+=t.length;for(var s=0;s<t.length;s++){var r=i.load(t[s].source,t[s].type,function(t){switch(t.state){case i.STATE_READY:n.numReady++;break;case i.STATE_ERROR:n.failed.push(t)}e(t,n)});r.id=t[s].id,n._store[r.id]=r}},getInfo:function(t){return this._store[t]},getData:function(t){var e=this._store[t];if(e)return e.state!==i.STATE_READY?null:e.data}},{},{TYPE_IMAGE:"img",STATE_QUEUED:0,STATE_READY:1,STATE_ERROR:-1,load:function(t,n,s){var r={type:n,source:t,state:i.STATE_QUEUED,onStateChange:s};return e[n](r),r}});return e[i.TYPE_IMAGE]=function(e){e.data=t("img"),e.data.src=e.source,e.data.onload=function(){e.state=i.STATE_READY,e.onStateChange(e)},e.data.onerror=function(){e.state=i.STATE_ERROR,e.onStateChange(e)}},i}),Chicken.register("ChickenVis.UpdateLoop",["ChickenVis.requestAnimationFrame","Date.now"],function(t,e){"use strict";var i=Chicken.Class(function(i){if(!i)throw new Error("No update function specified");var n=this,s=function(){var r=e(),a=(r-n._lastFrameTime)/1e3;n._lastFrameTime=r,n._paused||(i(a),t(s))};this._paused=!0,this._lastTime=0,this._updateWrapper=s,this._onupdate=i},{step:function(t){this._onupdate(t)}},{paused:{get:function(){return this._paused},set:function(t){return t==this._paused?t:(this._paused=t,t||(this._lastFrameTime=e(),this._updateWrapper()),t)},enumerable:!0}});return i}),Chicken.register("ChickenVis.Draw",["ChickenVis.resolveElement"],function(t){"use strict";var e="black",i="10px Courier",n=2*Math.PI,s=function(){return!1},r=Chicken.Class(function(e,i,n){e=t(e),this._width=i||e.clientWidth,this._height=n||e.clientHeight,this._originX=0,this._originY=0,this._canvas=document.createElement("canvas"),this._canvas.setAttribute("width",this._width),this._canvas.setAttribute("height",this._height),this._canvas.onselectstart=s,e.appendChild(this._canvas),this._ctx=this._canvas.getContext("2d"),this._ctx.textBaseline="top"},{setOrigin:function(t,e){this._originX=-t,this._originY=-e,this._ctx.translate(t,e)},line:function(t,i,n,s,r){r=r||e,this._ctx.beginPath(),this._ctx.moveTo(t,i),this._ctx.lineTo(n,s),this._ctx.strokeStyle=r,this._ctx.stroke()},path:function(t,i){i=i||e;var n=this._ctx;n.beginPath(),n.moveTo(t[0].x,t[0].y);for(var s=t.length,r=1;s>r;r++)n.lineTo(t[r].x,t[r].y);n.strokeStyle=i,n.stroke()},circle:function(t,i,s,r,a){r=r||e,this._ctx.beginPath(),this._ctx.arc(t,i,s,0,n),a?(this._ctx.strokeStyle=r,this._ctx.stroke()):(this._ctx.fillStyle=r,this._ctx.fill())},rect:function(t,i,n,s,r,a){r=r||e,a?(this._ctx.beginPath(),this._ctx.rect(t,i,n,s),this._ctx.strokeStyle=r,this._ctx.stroke()):(this._ctx.fillStyle=r,this._ctx.fillRect(t,i,n,s))},image:function(t,e,i){this._ctx.drawImage(t,e,i)},imageEx:function(t,e,i,n,s,r,a,c,h){this._ctx.drawImage(t,e,i,n,s,r,a,c,h)},text:function(t,n,s,r,a){r=r||e,a=a||i,this._ctx.font=a,this._ctx.fillStyle=r,this._ctx.fillText(t,n,s)},clear:function(){this._ctx.clearRect(this._originX,this._originY,this._width,this._height)}},{canvas:{get:function(){return this._canvas},enumerable:!0},context:{get:function(){return this._ctx},enumerable:!0},width:{get:function(){return this._width},enumerable:!0},height:{get:function(){return this._height},enumerable:!0}});return r});